<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>適当作品その2「太陽系」</title>
<style>
h1{
	position: relative;
	padding:0 0 5px 0;
	font-size:30px;
	border-bottom:#BFBFBF dotted 1px;
}
h1:first-letter{
	font-size:50px;
	color:#325A8C;
}
h3{
    padding: 0.25em 0.5em;
    color: #494949;
    background: transparent;
    border-left: solid 5px #a2de96;
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/99/three.min.js"></script>
</head>
<body>
<h1>適当に作ったモノ その2「太陽系」</h1>
<h3>使用したテクスチャ素材</h3>
<a href="https://earthobservatory.nasa.gov/features/BlueMarble/BlueMarble_2002.php" target="_blank" rel="noopener">->地球のテクスチャ</a><br>
<a href="https://svs.gsfc.nasa.gov/4720" target="_blank" rel="noopener">->月のテクスチャ(NASA's Scientific Visualization Studio)</a><br>
<a href="https://www.solarsystemscope.com/textures/" target="_blank" rel="noopener">->惑星のテクスチャ</a><br>
<h3>提出課題の説明など</h3>
<details>
<summary>説明を読む</summary>
適当に作った課題１を活かして太陽系を模した球にテクスチャを貼り付け、座標をそれぞれずらしながら配置して段々と中央の太陽に近づいていき、ぶつかる前にもとに戻るという作品。あまり手は込んでいない。また、土星の環は再現するのに知識が足りなかった。<br>
</details><br>
<details>
<summary>この課題のプログラム</summary>
<a href="https://github.com/nkgw-marronnier/WebGL-Three.js-/blob/master/tekitou1.html" target="blank" rel="noopener">->GitHub(nkgw-marronnier) [公開期間:2020/07/20~2020/07/30]</a><br>
</details>
<br>
<script>
var init = function() {
	var width = 960,
    height = 540;

	// レンダラーを作成
	var renderer = new THREE.WebGLRenderer();
	renderer.setSize(width, height);
	document.body.appendChild(renderer.domElement);

	// シーンを作成
	var scene = new THREE.Scene();

	// カメラを作成
	var camera = new THREE.PerspectiveCamera(45, width / height, 1, 1000);
	camera.position.set(0,0,0);

	// テクスチャー読み込み
	var textureLoader = new THREE.TextureLoader();
    var texture_sun = textureLoader.load("texture/sun.jpg");
	var mat_sun = new THREE.MeshLambertMaterial();
	mat_sun.map = texture_sun;
    var texture_mercury = textureLoader.load("texture/mercury.jpg");
	var mat_mercury = new THREE.MeshLambertMaterial();
	mat_mercury.map = texture_mercury;
    var texture_venus = textureLoader.load("texture/venus.jpg");
	var mat_venus = new THREE.MeshLambertMaterial();
	mat_venus.map = texture_venus;
    var texture_earth = textureLoader.load("texture/earth.jpg");
	var mat_earth = new THREE.MeshLambertMaterial();
	mat_earth.map = texture_earth;
    var texture_moon = textureLoader.load("texture/moon.jpg");
	var mat_moon = new THREE.MeshLambertMaterial();
	mat_moon.map = texture_moon;
    var texture_mars = textureLoader.load("texture/mars.jpg");
	var mat_mars = new THREE.MeshLambertMaterial();
	mat_mars.map = texture_mars;
    var texture_jupiter = textureLoader.load("texture/jupiter.jpg");
	var mat_jupiter = new THREE.MeshLambertMaterial();
	mat_jupiter.map = texture_jupiter;
	var texture_saturn = textureLoader.load("texture/saturn.jpg");
	var mat_saturn = new THREE.MeshLambertMaterial();
	mat_saturn.map = texture_saturn;
	var texture_uranus = textureLoader.load("texture/uranus.jpg");
	var mat_uranus = new THREE.MeshLambertMaterial();
	mat_uranus.map = texture_uranus;
    var texture_neptune = textureLoader.load("texture/neptune.jpg");
	var mat_neptune = new THREE.MeshLambertMaterial();
	mat_neptune.map = texture_neptune;

	//グループを作る
	var moon_group = new THREE.Group();
	//3D空間にグループを追加する
	scene.add(moon_group);
    
    //太陽を作成
    var sungeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var sun = new THREE.Mesh(sungeometry, mat_sun);
    sun.position.z = -55;
    scene.add(sun);
	sun.scale.set(10,10,10);

    //水星を作成
    var mercurygeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var mercury = new THREE.Mesh(mercurygeometry, mat_mercury);
	mercury.scale.set(1.5,1.5,1.5);
    mercury.position.set(1.9,0.4,-40);
    scene.add(mercury);

    //金星を作成
    var venusgeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var venus = new THREE.Mesh(venusgeometry, mat_venus);
    venus.position.set(-1.9,-0.4,-35);
    venus.scale.set(1.5,1.5,1.5);
    scene.add(venus);
	

	// 地球を作成
	var earthgeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var earth = new THREE.Mesh(earthgeometry, mat_earth);
	earth.position.set(1.9,-0.4,-30);
	scene.add(earth);
	earth.scale.set(1.5,1.5,1.5);

  	//月を作成
	var moongeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var moon = new THREE.Mesh(moongeometry, mat_moon);
	var radian = (Math.PI)*2;
	moon.position.set(-2* Math.cos(radian),0,-2*Math.sin(radian));
	moon_group.add(moon);
    moon_group.position.set(1.9,-0.4,-30);
	moon.scale.set(0.5,0.5,0.5);

    //火星を作成
    var marsgeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var mars = new THREE.Mesh(marsgeometry, mat_mars);
    mars.position.set(-1.9,0.4,-25);
    mars.scale.set(1.5,1.5,1.5);
    scene.add(mars);

    //木星を作成
    var jupitergeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var jupiter = new THREE.Mesh(jupitergeometry, mat_jupiter);
    jupiter.position.set(1.9,0.4,-20);
    jupiter.scale.set(1.5,1.5,1.5);
    scene.add(jupiter);
	

    //土星を作成
    var saturngeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var saturn = new THREE.Mesh(saturngeometry, mat_saturn);
    saturn.position.set(-1.9,-0.4,-15);
    saturn.scale.set(1.5,1.5,1.5);
    scene.add(saturn);

    //天王星を作成
    var uranusgeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var uranus = new THREE.Mesh(uranusgeometry, mat_uranus);
    uranus.position.set(1.9,-0.4,-10);
	uranus.scale.set(1.5,1.5,1.5);    
    scene.add(uranus);

    //海王星を作成
    var neptunegeometry = new THREE.SphereGeometry(0.5, 32, 32);
    var neptune = new THREE.Mesh(neptunegeometry, mat_neptune);
    neptune.position.set(-1.9,0.4,-5);
	neptune.scale.set(1.5,1.5,1.5);
    scene.add(neptune);

  	//飛行衛星の光
	var directionalLight = new THREE.DirectionalLight(0xffffff,1);
	directionalLight.position.set(0, -30, 70);
	// シーンに追加
	scene.add(directionalLight);

    //星空1(白色)を作成
	var stargeometry = new THREE.Geometry();
	// 配置する範囲
	var SIZE = 1000;
	// 配置する個数
	var LENGTH = 5000;
	for (let i = 0; i < LENGTH; i++) {
	stargeometry.vertices.push(new THREE.Vector3(
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),));
	}
	var starmaterial = new THREE.PointsMaterial({
	size: 0.6,color: 0xF0FFFF,});
	var starmesh = new THREE.Points(stargeometry, starmaterial);
	scene.add(starmesh)

	//星空2(青色)を作成
	var stargeometry2 = new THREE.Geometry();
	// 配置する範囲
	var SIZE = 1000;
	// 配置する個数
	var LENGTH = 1000;
	for (let i = 0; i < LENGTH; i++) {
	stargeometry2.vertices.push(new THREE.Vector3(
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),));
	}
	var starmaterial2 = new THREE.PointsMaterial({
	size: 0.6,color: 0x00FFFF,});
	var starmesh2 = new THREE.Points(stargeometry2, starmaterial2);
	scene.add(starmesh2)

	//星空3(燈色)を作成
	var stargeometry3 = new THREE.Geometry();
	// 配置する範囲
	var SIZE = 1000;
	// 配置する個数
	var LENGTH = 1000;
	for (let i = 0; i < LENGTH; i++) {
	stargeometry3.vertices.push(new THREE.Vector3(
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),));
	}
	var starmaterial3 = new THREE.PointsMaterial({
	size: 0.6,color: 0xFF8C00,});
	var starmesh3 = new THREE.Points(stargeometry3, starmaterial3);
	scene.add(starmesh3)

	//星空4(紫色)を作成
	var stargeometry4 = new THREE.Geometry();
	// 配置する範囲
	var SIZE = 1000;
	// 配置する個数
	var LENGTH = 1000;
	for (let i = 0; i < LENGTH; i++) {
	stargeometry4.vertices.push(new THREE.Vector3(
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),
		SIZE * (Math.random() - 0.5),));
	}
	var starmaterial4 = new THREE.PointsMaterial({
	size: 0.6,color: 0xFF00FF,});
	var starmesh4 = new THREE.Points(stargeometry4, starmaterial4);
	scene.add(starmesh4)

	// 初回実行
	var update = function() {
		requestAnimationFrame(update);

	  	// 星を回転させる
        sun.rotation.y += 0.001;
        mercury.rotation.y += 0.01;
        venus.rotation.y += 0.015;
		earth.rotation.y += 0.009;
		moon_group.rotation.y += 0.011;
        mars.rotation.y += 0.007;
        jupiter.rotation.y += 0.010;
        saturn.rotation.y += 0.08;
        uranus.rotation.x += 0.009;
        neptune.rotation.y += 0.008;
        //星空を回転させる
        starmesh.rotation.y += 0.0001;
		starmesh.rotation.x += 0.0001;
		starmesh2.rotation.y += 0.0001;
		starmesh2.rotation.x += 0.0001;
		starmesh3.rotation.y += 0.0001;
		starmesh3.rotation.x += 0.0001;
		starmesh4.rotation.y += 0.0001;
		starmesh4.rotation.x += 0.0001;

        //カメラを移動させる
        camera.position.z -= 0.01;
		//太陽に近づいたときに元に戻す
        if(camera.position.z <= -47){
            camera.position.z = 0;
        }

		renderer.render(scene, camera);
	};
	update();
}
window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>