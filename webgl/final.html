<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>WebGL最終課題</title>
<link rel="icon" href="nkgw-marronnier.ico">
<link rel="stylesheet" href="css/styles.css">
<meta name="format-detection" content="telephone=no">
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/99/three.min.js"></script>
</head>
<body>
<h1>WebGL最終課題</h1>
<h3>CIT　情報科学部　情報ネットワーク学科　3年　学生番号：1832099</h3>
<h4>使用したテクスチャ素材</h4>
<a href="" target="_blank" rel="noopener">->地球のテクスチャ</a>
<h4>提出課題の説明など</h4>
<details>
<summary>説明を読む</summary>
<br>
</details><br>
<details>
<summary>この課題のプログラム</summary>
<a href="https://github.com/nkgw-marronnier/WebGL-Three.js-/blob/master/tekitou1.html" target="blank" rel="noopener">->GitHub(nkgw-marronnier) [公開期間:2020/07/20~2020/07/30]</a><br>
</details>
<br>
<script>
var init = function() {
	var width = 960,
    height = 540;

	// レンダラーを作成
	var renderer = new THREE.WebGLRenderer();
	renderer.setSize(width, height);
	document.body.appendChild(renderer.domElement);

	// シーンを作成
	var scene = new THREE.Scene();

	// カメラを作成
	var camera = new THREE.PerspectiveCamera( 45, width / height, 1, 1000 );
  camera.position.set(0,0,8);

	//グループを作る
	var round_group = new THREE.Group();
	//3D空間にグループを追加する
	scene.add(round_group);

  // 顔を作成
	var kaogeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var kaomaterial = new THREE.MeshPhongMaterial({ color: 0x0000ff, wireframe: true });
  var kao = new THREE.Mesh( kaogeometry, kaomaterial );
	var radian = (Math.PI)*2;
	kao.position.set(-2.5* Math.cos(radian),0.7,-2.5*Math.sin(radian));
	round_group.add(kao);
	kao.scale.set(0.7,0.7,0.7);

	// 胴体を作成
	var doutaigeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var doutaimaterial = new THREE.MeshPhongMaterial({ color: 0x0000ff, wireframe: true });
  var doutai = new THREE.Mesh( doutaigeometry, doutaimaterial );
	doutai.position.set(-2.5* Math.cos(radian),0,-2.5*Math.sin(radian));
	round_group.add(doutai);
	doutai.scale.set(0.7,1,0.7);

  // 左耳を作成
	var hidarimimigeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var hidarimimimaterial = new THREE.MeshPhongMaterial({ color: 0x0000ff, wireframe: true });
  var hidarimimi = new THREE.Mesh( hidarimimigeometry, hidarimimimaterial );
	hidarimimi.position.set(-2.75* Math.cos(radian),1,-2.75*Math.sin(radian));
	round_group.add(hidarimimi);
	hidarimimi.scale.set(0.2,0.2,0.2);

  // 右耳を作成
	var migimimigeometry = new THREE.SphereGeometry(0.5, 32, 32);
	var migimimimaterial = new THREE.MeshPhongMaterial({ color: 0x0000ff, wireframe: true });
  var migimimi = new THREE.Mesh( migimimigeometry, migimimimaterial );
	migimimi.position.set(-2.25* Math.cos(radian),1,-2.25*Math.sin(radian));
	round_group.add(migimimi);
	migimimi.scale.set(0.2,0.2,0.2);

  //平行光源
  var directionalLight = new THREE.DirectionalLight( 0xAAffff );
  directionalLight.position.set( 1, 1, 1 );
  //シーンに追加
  scene.add( directionalLight );

  //平行光源2
  var directionalLight2 = new THREE.DirectionalLight( 0xffAAff );
  directionalLight2.position.set( -1, 1, 1 );
  scene.add( directionalLight2 );

  var ue = 0;

	// 初回実行
	var update = function() {
		requestAnimationFrame(update);

	  // 熊を飛び跳ねさせる
		round_group.rotation.y += 0.005;
    if(round_group.position.y >= 0.5){
      ue = 1;
    }
    if(round_group.position.y <= -0.5){
      ue = 0;
    }
    if(ue == 1){
      round_group.position.y -= 0.03;
    }
    if(ue == 0){
      round_group.position.y += 0.03;
    }
		renderer.render(scene, camera);
	};
	update();
}
window.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>